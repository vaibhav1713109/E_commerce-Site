{% extends 'i_Movie/basic.html' %}

{% block css%}
<style>
    .img {
        box-shadow: 5px 15px 30px rgba(0, 0, 0, 0.3);
        border-radius: 10px;
        overflow: hidden;
    }

    .img-fluid {
        box-shadow: 5px 15px 30px rgba(0, 0, 0, 0.3);
        border-radius: 10px;
        overflow: hidden;
        width: 98%;
        /* max-width: 400px; */
        height: 100%;
        margin-top: 4px;
    }
    .card {
        box-shadow: 5px 15px 30px rgba(0, 0, 0, 0.3);
        border-radius: 10px;
        overflow: hidden;
    }

    .card-img-top {
        width: 18rem;
        height: 400px;
    }
    a {
        color: #161617;
        text-decoration: unset;
    }

    .container {
        text-align: center;
    }

    .movie {
        float: left;
        border-radius: 10px;
        width: calc(100% - 30px);
        background-color: #202020;
        padding: 10px;
        box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.3);
        margin-left: 12px;
    }

    .movie img {
        float: left;
    }

    .movie ul {
        float: left;
        margin: 0 20px;
        width: calc(100% - 590px);
    }

    .movie ul li {
        float: left;
        display: block;
        clear: both;
        color: #fff;
        padding: 0 0 10px 0;
        line-height: 1.4
    }

    .movie ul li:first-child {
        font-weight: bold;
        font-size: 22px;
    }

    .movie ul li a {
        color: #c22026;
        text-decoration: none;
    }
</style>
{% endblock%}
{% block title%}
<title>Detail Page</title>
{% endblock%}
{% block body%}
{% for mv in movies %}
<div class="container my-4">
    <video class="img-fluid embed-responsive embed-responsive-16by9" autoplay="autoplay" controls="controls">
        <source src="{{mv.trailer.url}}" type="video/mp4">
    </video>
    <section class="movie">
        <img class="img" src="{{mv.image.url}}" alt="" width="200px">
        <ul>
            <li>{{ mv.name }}</li>
            <li>{{mv.movie_length}}| {{mv.category}}| {{mv.release_date}}</li>
            <li style="color: rgb(196, 152, 152);">{{mv.movie_director}}</li>
            <li style="color: rgb(196, 152, 152);">{{mv.movie_actor}}</li>
            <li>{{mv.movie_language}}</li>
            <li>{{mv.imdb_rating}}</li>
            <li>{{mv.movie_quality}}</li>
        </ul>
    </section>
    <p class="my-4">
        <center>
            <h5><b>StoryLine</b></h5>{{mv.description}}
        </center>
    </p>
    <hr>
    <!--Screen Shots-->
    <div class="container my-2">
        <div id="carouselExampleCaptions" class="carousel slide carousel-fade" data-bs-ride="carousel">
            <ol class="carousel-indicators">
                {% for p in screenshots %}
                <li data-bs-target="#carouselExampleCaptions" data-bs-slide-to="{{forloop.counter0}}"
                    class="{% if forloop.counter0 == 0 %} active {% endif %}"></li>
                {% endfor%}
            </ol>
            <div class="carousel-inner" role="listbox">
                <h4><b> Screenshots</b></h4>
                {% for p in screenshots %}
                {% if forloop.counter == 1%}
                <div class="carousel-item active">
                    <img src="{{p.screen_shot.url}}" class="d-block w-100" alt="FirstSlide"
                        style="max-height: 600px; width: max-content;">
                    <div class="carousel-caption d-none d-md-block">
                        <span>{{mv.name}}</span>
                    </div>
                </div>
                {% else %}
                <div class="carousel-item">
                    <img src='{{p.screen_shot.url}}' class="d-block w-100" alt="FirstSlide"
                        style="max-height: 600px; width: max-content;">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>{{mv.name}}</h5>
                    </div>
                </div>
                {% endif %}
                {% endfor%}
            </div>
            <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </a>
        </div>
    </div>   
    <hr>
</div>
<div class="container">
    <a href="#">Link1</a>
    <hr>
    <a href="#">Link1</a>
    <hr>
    <a href="#">Link1</a>
    <hr>
</div>

<div class="container">
    <div class="row">
        {% for i in m %}
        {% for mv in movies %}
        {% if mv.name != i.name %}
        <div class="col m-2">
            <a href="{% url 'details' i.id %}">
                <div class="card" style="width: 18rem;">
                    <img src='{{i.image.url}}' class="card-img-top" alt="..." width="200px" height="300px">
                    <div class="card-body">
                        <h5 class="card-title">{{i.name}}</h5>
                        <p class="card-text">Made By:{{i.movie_director}}</p>
                    </div>
                </div>
            </a>
        </div>
        {% endif %}
        {% endfor%}
        {% endfor%}
</div>
{% endfor %}
{% endblock %}